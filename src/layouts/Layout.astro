---
import '../styles/global.css';
const { 
  title = "GetNexo â€“ Assistente de Vendas WhatsApp GrÃ¡tis", 
  description = "IA que fecha vendas sozinho 24h. Sem nuvem. Sem mensalidade. Sem risco.",
  keywords = "assistente vendas whatsapp grÃ¡tis, ia whatsapp vendas, automaÃ§Ã£o whatsapp sem nuvem, getnexo, evolution api, n8n whatsapp, vendas 24h, self hosted ia",
  isLanding = false
} = Astro.props;
---
<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>{title}</title>
  <meta name="description" content={description} />
  <meta name="keywords" content={keywords} />
  <meta name="author" content="GetNexo" />
  <meta name="robots" content="index, follow" />
  <link rel="canonical" href={`https://getnexo.com.br${Astro.url.pathname}`} />
  <meta property="og:type" content="website" />
  <meta property="og:site_name" content="GetNexo" />
  <meta property="og:title" content={title} />
  <meta property="og:description" content={description} />
  <meta property="og:image" content="https://getnexo.com.br/images/og.jpg" />
  <meta name="twitter:card" content="summary_large_image" />
  
  <!-- Verification Tags (Replace content with your codes) -->
  <meta name="google-site-verification" content="" />
  <meta name="msvalidate.01" content="" />

  <!-- Google Analytics 4 -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-F8P994EX00"></script>
  <script is:inline>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-F8P994EX00');
  </script>
  
  <!-- Schema.org JSON-LD -->
  <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "SoftwareApplication",
      "name": "GetNexo",
      "applicationCategory": "BusinessApplication",
      "operatingSystem": "Web",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "BRL"
      },
      "description": "Assistente de Vendas WhatsApp 100% GrÃ¡tis. Zero nuvem. Zero risco. Otimize seu atendimento com IA self-hosted."
    }
  </script>
  
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet" />
  <style is:global define:vars={{ mainPadding: isLanding ? '0' : '100px', mainMinHeight: isLanding ? 'auto' : '100vh' }}>
    :root { 
      --primary: #00d4ff; 
      --success: #00ff9d; 
      --dark: #0a0e17; 
      --gray: #1e293b; 
      --light: #e2e8f0; 
      --text: #94a3b8; 
    }
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body { font-family: 'Inter', sans-serif; background: var(--dark); color: var(--light); line-height: 1.7; overflow-x: hidden; }
    header { background: rgba(10,14,23,0.9); backdrop-filter: blur(12px); position: fixed; top: 0; width: 100%; z-index: 1000; padding: 1rem 5%; display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid rgba(0,212,255,0.1); }
    .logo { font-size: 1.8rem; font-weight: 800; color: var(--primary); text-decoration: none; }
    nav { display: flex; align-items: center; flex-wrap: wrap; gap: 0.5rem; }
    nav a { color: var(--light); margin-left: 1.5rem; text-decoration: none; font-weight: 600; font-size: 0.95rem; transition: all 0.3s; }
    nav a:hover { color: var(--success); transform: translateY(-2px); }
    .btn-cta { color: var(--success); border: 2px solid var(--success); padding: 0.6rem 1.8rem; border-radius: 50px; font-weight: 800; transition: all 0.3s; animation: pulse 2s infinite; }
    .btn-cta:hover { background: var(--success); color: black; transform: translateY(-3px); box-shadow: 0 10px 30px rgba(0,255,157,0.3); }
    @keyframes pulse { 0%,100%{opacity:1} 50%{opacity:0.7} }
    .canvas-particles { position: fixed; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: -1; }
    footer { background: var(--dark); padding: 3rem 5%; text-align: center; border-top: 1px solid rgba(0,212,255,0.1); }
    footer p { color: #64748b; font-size: 0.95rem; margin: 0.5rem 0; }
    footer a { color: var(--primary); text-decoration: none; }
    footer a:hover { color: var(--success); }
    main { padding-top: var(--mainPadding); min-height: var(--mainMinHeight); }
    .floating-cta { position: fixed; bottom: 30px; right: 30px; background: var(--success); color: black; padding: 1rem 1.8rem; border-radius: 50px; font-weight: 800; box-shadow: 0 10px 30px rgba(0,255,157,0.4); z-index: 999; text-decoration: none; transition: all 0.3s; }
    .floating-cta:hover { transform: scale(1.1); box-shadow: 0 15px 40px rgba(0,255,157,0.6); }
    @media (max-width: 900px) {
      header { flex-direction: column; padding: 1rem; gap: 1rem; }
      nav { justify-content: center; }
      nav a { margin-left: 0.8rem; font-size: 0.85rem; }
      main { padding-top: var(--mainPadding); }
      .floating-cta { bottom: 20px; right: 20px; padding: 0.8rem 1.2rem; font-size: 0.9rem; }
    }
  </style>
</head>
<body>
  <canvas id="particles" class="canvas-particles" aria-hidden="true"></canvas>
  
  { !isLanding && (
  <header>
    <a href="/" class="logo">GETNEXO</a>
    <nav>
      <a href="/">InÃ­cio</a>
      <a href="/assistente-vendas-whatsapp">Assistente</a>
      <a href="/comparacao">ComparaÃ§Ã£o</a>
      <a href="/como-funciona">Como Funciona</a>
      <a href="/depoimentos">Depoimentos</a>
      <a href="/blog">Blog</a>
      <a href="/suporte">Suporte</a>
      <a href="/faq">FAQ</a>
      <a href="/precos">PreÃ§os</a>
      <a href="#" onclick="window.$chatwoot.toggle(); return false;" class="btn-cta">Falar com IA â†’</a>
    </nav>
  </header>
  )}

  <main>
    <slot />
  </main>

  { !isLanding && (
  <footer>
    <p>
      <a href="/sobre">Sobre</a> Â· 
      <a href="/documentacao">Docs</a> Â· 
      <a href="/changelog">Changelog</a> Â· 
      <a href="/contato">Contato</a> Â· 
      <a href="/privacidade">Privacidade</a> Â· 
      <a href="/api">API</a> Â· 
      <a href="/suporte">Precisa de ajuda?</a>
    </p>
    <p>Â© {new Date().getFullYear()} GetNexo â€“ Assistente de Vendas WhatsApp 100% GrÃ¡tis. Zero nuvem. Zero risco.</p>
    <p style="margin-top: 1.5rem;"><a href="/revenda?revenda=sim" style="color: #64748b; font-weight: 600;">Sou revendedor â†’</a></p>
  </footer>
  )}

  <a href="#" onclick="window.$chatwoot.toggle(); return false;" class="floating-cta">ðŸ’¬ Testar GrÃ¡tis</a>

  <script is:inline>
    (function() {
      const canvas = document.getElementById('particles');
      if (!canvas) return;
      const ctx = canvas.getContext('2d');
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;
      window.addEventListener('resize', () => { 
        canvas.width = window.innerWidth; 
        canvas.height = window.innerHeight; 
      });
      const particles = [];
      const maxParticles = 80;
      window.addEventListener('mousemove', e => {
        if (particles.length >= maxParticles) return;
        const x = e.clientX, y = e.clientY;
        for(let i = 0; i < 2; i++) {
          particles.push({
            x, y,
            vx: (Math.random() - 0.5) * 4,
            vy: (Math.random() - 0.5) * 4,
            life: 50
          });
        }
      });
      function animar() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        for (let i = particles.length - 1; i >= 0; i--) {
          const p = particles[i];
          p.x += p.vx;
          p.y += p.vy;
          p.life--;
          if (p.life <= 0) {
            particles.splice(i, 1);
            continue;
          }
          ctx.beginPath();
          ctx.arc(p.x, p.y, p.life / 10, 0, Math.PI * 2);
          ctx.fillStyle = `rgba(0, 212, 255, ${p.life / 50})`;
          ctx.fill();
        }
        requestAnimationFrame(animar);
      }
      animar();
    })();
  </script>
  <!-- Chatwoot Widget -->
  <script is:inline>
    (function(d,t) {
      var BASE_URL="https://chat.getnexo.com.br";
      var g=d.createElement(t),s=d.getElementsByTagName(t)[0];
      g.src=BASE_URL+"/packs/js/sdk.js";
      g.defer = true;
      g.async = true;
      s.parentNode.insertBefore(g,s);
      g.onload=function(){
        window.chatwootSDK.run({
          websiteToken: '5nhP3BH63pxF6HcNQLezaQCC',
          baseUrl: BASE_URL
        })
      }
    })(document,"script");
  </script>
</body>
</html>
