---
import '../styles/global.css';
const { title, description = "Assistente de vendas no WhatsApp 100% grátis – IA que fecha vendas sozinho, sem nuvem, sem risco." } = Astro.props;
---

<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>{title} | GetNexo – Assistente de Vendas WhatsApp Grátis</title>
  <meta name="description" content={description} />
  <meta name="keywords" content="assistente de vendas whatsapp, ia vendas whatsapp, automação whatsapp grátis, ia local whatsapp, getnexo, evolution api, n8n whatsapp, vendas 24h whatsapp" />
  <meta name="robots" content="index, follow" />
  <link rel="canonical" href={`https://getnexo.com.br${Astro.url.pathname}`} />
  <meta property="og:title" content={title + ' – GetNexo'} />
  <meta property="og:description" content={description} />
  <meta property="og:url" content={`https://getnexo.com.br${Astro.url.pathname}`} />
  <meta property="og:type" content="website" />
  <meta property="og:image" content="https://getnexo.com.br/images/og-image.jpg" />
  <meta name="twitter:card" content="summary_large_image" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet" />
  <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; font-src 'self' https://fonts.gstatic.com;" />
  <style is:global>
    :root { --primary: #00d4ff; --success: #00ff9d; --dark: #0a0e17; --gray: #1e293b; --light: #e2e8f0; --text: #94a3b8; }
    body { font-family: 'Inter', sans-serif; background: var(--dark); color: var(--light); margin: 0; line-height: 1.6; overflow-x: hidden; }
    header { background: rgba(10,14,23,0.9); backdrop-filter: blur(12px); position: fixed; top: 0; width: 100%; z-index: 1000; padding: 1rem 5%; display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid rgba(0,212,255,0.1); }
    .logo { font-size: 1.8rem; font-weight: 800; color: var(--primary); text-decoration: none; }
    nav a { color: var(--light); margin-left: 2rem; text-decoration: none; font-weight: 600; transition: all 0.3s; }
    nav a:hover { color: var(--success); transform: translateY(-2px); }
    .btn-cta { color: var(--success); border: 2px solid var(--success); padding: 0.6rem 1.8rem; border-radius: 50px; font-weight: 800; transition: all 0.3s; animation: pulse 2s infinite; }
    .btn-cta:hover { background: var(--success); color: black; transform: translateY(-3px); box-shadow: 0 10px 30px rgba(0,212,255,0.3); }
    @keyframes pulse { 0%,100%{opacity:1} 50%{opacity:0.7} }
    .canvas-particles { position: fixed; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: -1; }
    footer { background: var(--dark); padding: 3rem 5%; text-align: center; border-top: 1px solid rgba(0,212,255,0.1); }
    footer p { color: #64748b; font-size: 0.95rem; margin: 0.5rem 0; }
    main { padding-top: 100px; min-height: 100vh; }
  </style>
</head>
<body>
  <canvas class="canvas-particles" id="particles"></canvas>

  <header>
    <a href="/" class="logo">GETNEXO</a>
    <nav>
      <a href="/">Início</a>
      <a href="/assistente-vendas-whatsapp">Assistente de Vendas WhatsApp</a>
      <a href="/como-funciona">Como Funciona</a>
      <a href="/blog">Blog</a>
      <a href="/admin">Admin</a>
      <a href="/api">API</a>
      <a href="/privacidade">Privacidade</a>
      <a href="https://chat.getnexo.com.br" class="btn-cta" target="_blank">Falar com o Agente Agora →</a>
    </nav>
  </header>

  <main>
    <slot />
  </main>

  <footer>
    <p>© {new Date().getFullYear()} GetNexo – Assistente de Vendas WhatsApp 100% Grátis, IA Local e Automação Sem Nuvem.</p>
    <p>Dados Blindados (AES-256) + Zero Risco de Banimento + Roda em PC Comum</p>
  </footer>

  <script is:inline>
    // Partículas otimizadas (menos draw calls, roda suave em 8GB RAM)
    const canvas = document.getElementById('particles');
    if (canvas) {
      const ctx = canvas.getContext('2d');
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;
      window.addEventListener('resize', () => {
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
      });
      const particles = [];
      const mouse = { x: null, y: null };
      window.addEventListener('mousemove', e => {
        mouse.x = e.clientX;
        mouse.y = e.clientY;
        for (let i = 0; i < 2; i++) { // só 2 partículas por movimento pra não lagar
          particles.push({
            x: mouse.x,
            y: mouse.y,
            vx: (Math.random() - 0.5) * 4,
            vy: (Math.random() - 0.5) * 4,
            life: 60
          });
        }
      });
      function animate() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        particles.forEach((p, i) => {
          p.x += p.vx;
          p.y += p.vy;
          p.life--;
          ctx.beginPath();
          ctx.arc(p.x, p.y, p.life / 10, 0, Math.PI * 2);
          ctx.fillStyle = `rgba(0, 212, 255, ${p.life / 60})`;
          ctx.fill();
          if (p.life <= 0) particles.splice(i, 1);
        });
        requestAnimationFrame(animate);
      }
      animate();
    }
  </script>
</body>
</html>
