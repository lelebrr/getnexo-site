---
import Layout from '../../layouts/Layout.astro';

const title = "Calculadora de ROI Automa√ß√£o WhatsApp | Simule seu Lucro - GetNexo";
const description = "Descubra quanto dinheiro sua empresa est√° deixando na mesa. Calcule o ROI da automa√ß√£o de vendas no WhatsApp e a economia com a API Oficial GetNexo.";
const keywords = "calculadora roi whatsapp, roi automacao vendas, calculo lucro whatsapp, economia api whatsapp, simulador vendas ia";
---

<Layout title={title} description={description} keywords={keywords}>
  
  <section class="tool-hero relative overflow-hidden">
    <div class="absolute inset-0 bg-gradient-to-b from-[#0f172a] to-black z-[-1]"></div>
    <div class="container mx-auto px-6 max-w-4xl text-center pt-20 pb-10">
      <div class="hero-badge">Simulador Financeiro</div>
      <h1 class="text-gradient mb-6">Calculadora de ROI WhatsApp</h1>
      <p class="text-slate-400 text-xl max-w-2xl mx-auto">
        Veja o impacto financeiro real de atender 24/7 e recuperar carrinhos automaticamente.
      </p>
    </div>
  </section>

  <section class="tool-interface pb-20">
    <div class="container mx-auto px-6 max-w-6xl">
      <div class="grid lg:grid-cols-3 gap-8">
        
        <!-- Inputs Panel -->
        <div class="glass-panel p-8 lg:col-span-1 h-fit sticky top-24">
          <h3 class="text-xl font-bold text-white mb-6 border-b border-white/10 pb-4">üìä Seus Dados Atuais</h3>
          
          <div class="space-y-5">
            <div class="input-group">
              <label>Leads/Atendimentos por M√™s</label>
              <div class="input-wrapper">
                <input type="number" id="leads" value="1000" class="glass-input">
                <span class="suffix">leads</span>
              </div>
            </div>

            <div class="input-group">
              <label>Ticket M√©dio (R$)</label>
              <div class="input-wrapper">
                <span class="prefix">R$</span>
                <input type="number" id="ticket" value="150" class="glass-input">
              </div>
            </div>

            <div class="input-group">
              <label>Taxa de Convers√£o Atual (%)</label>
              <div class="input-wrapper">
                <input type="number" id="conversion" value="5" class="glass-input">
                <span class="suffix">%</span>
              </div>
            </div>

            <div class="input-group">
              <label>Custo Equipe/Ferramentas (Mensal)</label>
              <div class="input-wrapper">
                <span class="prefix">R$</span>
                <input type="number" id="cost" value="2500" class="glass-input">
              </div>
            </div>
            
            <button id="calc-btn" class="btn-primary-glow w-full mt-4">Simular Resultado üöÄ</button>
          </div>
        </div>

        <!-- Results Panel -->
        <div class="lg:col-span-2 space-y-6">
          
          <!-- Summary Cards -->
          <div class="grid md:grid-cols-2 gap-4">
            <div class="glass-panel p-6 border-l-4 border-slate-500 bg-slate-900/50">
              <span class="text-slate-400 text-sm font-bold uppercase">Cen√°rio Atual</span>
              <div class="flex items-end gap-2 mt-2">
                <span class="text-3xl font-bold text-white" id="current-revenue">R$ 7.500</span>
                <span class="text-sm text-slate-400 mb-1">/m√™s</span>
              </div>
              <p class="text-xs text-slate-500 mt-2">Faturamento estimado hoje</p>
            </div>

            <div class="glass-panel p-6 border-l-4 border-[#00ff9d] bg-[#00ff9d]/5 relative overflow-hidden">
              <div class="absolute top-0 right-0 p-2 bg-[#00ff9d] text-black text-xs font-bold rounded-bl-xl">COM GETNEXO</div>
              <span class="text-[#00ff9d] text-sm font-bold uppercase">Cen√°rio Potencial</span>
              <div class="flex items-end gap-2 mt-2">
                <span class="text-4xl font-black text-white" id="projected-revenue">R$ 18.750</span>
                <span class="text-sm text-slate-400 mb-1">/m√™s</span>
              </div>
              <p class="text-xs text-[#00ff9d] mt-2">+150% de aumento estimado</p>
            </div>
          </div>

          <!-- Detailed Breakdown -->
          <div class="glass-panel p-8">
            <h3 class="text-2xl font-bold text-white mb-6">Onde est√° o dinheiro? üí∞</h3>
            
            <div class="space-y-6">
              <!-- Item 1 -->
              <div class="flex items-center gap-4">
                <div class="p-3 rounded-full bg-blue-500/10 text-blue-400 text-xl">üåô</div>
                <div class="flex-1">
                  <h4 class="text-white font-bold">Vendas Fora do Hor√°rio (24/7)</h4>
                  <p class="text-sm text-slate-400">Humanos dormem. A IA vende de madrugada e finais de semana.</p>
                </div>
                <div class="text-right">
                  <span class="block text-xl font-bold text-green-400" id="gain-hours">+ R$ 3.200</span>
                </div>
              </div>

              <!-- Item 2 -->
              <div class="flex items-center gap-4">
                <div class="p-3 rounded-full bg-purple-500/10 text-purple-400 text-xl">üõí</div>
                <div class="flex-1">
                  <h4 class="text-white font-bold">Recupera√ß√£o de Carrinhos</h4>
                  <p class="text-sm text-slate-400">60% dos carrinhos s√£o abandonados. Recuperamos 30% deles.</p>
                </div>
                <div class="text-right">
                  <span class="block text-xl font-bold text-green-400" id="gain-recovery">+ R$ 5.400</span>
                </div>
              </div>

              <!-- Item 3 -->
              <div class="flex items-center gap-4">
                <div class="p-3 rounded-full bg-red-500/10 text-red-400 text-xl">üìâ</div>
                <div class="flex-1">
                  <h4 class="text-white font-bold">Economia Operacional</h4>
                  <p class="text-sm text-slate-400">Redu√ß√£o de custo com ferramentas caras e atendimento manual.</p>
                </div>
                <div class="text-right">
                  <span class="block text-xl font-bold text-green-400" id="gain-savings">+ R$ 2.400</span>
                </div>
              </div>
              
              <div class="h-px bg-white/10 my-4"></div>

              <div class="flex justify-between items-center pt-2">
                <span class="text-lg font-bold text-slate-300">Lucro L√≠quido Adicional / Ano</span>
                <span class="text-3xl font-black text-[#00ff9d]" id="annual-profit">R$ 132.000</span>
              </div>

            </div>
          </div>

          <!-- CTA -->
          <div class="bg-gradient-to-r from-[#00d4ff]/20 to-[#00ff9d]/20 border border-[#00d4ff]/30 p-8 rounded-3xl text-center">
            <h3 class="text-2xl font-bold text-white mb-2">Pare de perder dinheiro hoje.</h3>
            <p class="text-slate-300 mb-6">Comece agora com o plano gratuito e escale conforme fatura.</p>
            <div class="flex justify-center gap-4">
              <a href="/criar-bot" class="btn-primary-glow">Criar Conta Gr√°tis</a>
              <a href="/agendar-demo" class="btn-outline">Falar com Consultor</a>
            </div>
          </div>

        </div>
      </div>
    </div>
  </section>

  <!-- Financial Theory of Automation (SEO Content) -->
  <section class="py-20 bg-[#0a0f1a] border-t border-white/5">
    <div class="container mx-auto px-6 max-w-4xl prose prose-invert prose-lg text-slate-300">
      
      <div class="text-center mb-16 not-prose">
        <h2 class="text-3xl md:text-5xl font-black text-white mb-6">A Matem√°tica por tr√°s do Lucro</h2>
        <p class="text-xl text-slate-400">
          Por que empresas que usam automa√ß√£o valem mais? Entenda os 3 pilares financeiros que o GetNexo otimiza.
        </p>
      </div>

      <div class="grid md:grid-cols-2 gap-12 items-start">
        <div>
          <h3 class="text-white text-2xl font-bold mb-4">1. Redu√ß√£o do CAC (Custo de Aquisi√ß√£o)</h3>
          <p>
            O CAC √© quanto voc√™ gasta para trazer um cliente. A maioria das empresas queima dinheiro em an√∫ncios (Ads) mas falha na convers√£o.
          </p>
          <p>
            Ao responder instantaneamente, voc√™ aumenta sua taxa de convers√£o em at√© <strong>7x</strong> (segundo a Harvard Business Review). 
            Isso significa que voc√™ converte mais clientes com o <em>mesmo</em> or√ßamento de marketing, derrubando seu CAC pela metade.
          </p>
        </div>
        <div class="bg-white/5 p-6 rounded-2xl border border-white/10">
          <div class="text-xs font-mono text-slate-500 mb-2">F√≥rmula do CAC</div>
          <div class="text-lg font-bold text-white mb-2">CAC = (Marketing + Vendas) / Clientes</div>
          <div class="h-1 bg-gradient-to-r from-red-500 to-green-500 rounded-full w-full"></div>
          <div class="flex justify-between text-xs mt-2">
            <span>Manual (Alto)</span>
            <span>Autom√°tico (Baixo)</span>
          </div>
        </div>
      </div>

      <hr class="border-white/10 my-12">

      <div class="grid md:grid-cols-2 gap-12 items-start">
        <div class="bg-white/5 p-6 rounded-2xl border border-white/10 md:order-1 order-2">
           <div class="text-xs font-mono text-slate-500 mb-2">Impacto no LTV</div>
           <div class="text-white font-bold mb-4">Recorr√™ncia</div>
           <ul class="space-y-2 text-sm">
             <li class="flex gap-2"><span>‚ùå</span> Cliente esquece de comprar</li>
             <li class="flex gap-2"><span class="text-[#00ff9d]">‚úÖ</span> Lembrete autom√°tico de reposi√ß√£o</li>
           </ul>
        </div>
        <div class="md:order-2 order-1">
          <h3 class="text-white text-2xl font-bold mb-4">2. Aumento do LTV (Lifetime Value)</h3>
          <p>
            Vender uma vez √© bom. Vender para sempre √© riqueza. O LTV mede quanto um cliente gasta com voc√™ ao longo da vida.
          </p>
          <p>
            O GetNexo atua proativamente enviando ofertas de <em>Cross-sell</em> (venda cruzada) e lembretes de recompra baseados no comportamento do cliente, 
            garantindo que ele volte sempre sem custo adicional de aquisi√ß√£o.
          </p>
        </div>
      </div>

      <hr class="border-white/10 my-12">

      <div>
        <h3 class="text-white text-2xl font-bold mb-4 text-center">3. A "Hora de Ouro" das Vendas</h3>
        <p class="lead text-center mb-8">
          Existe uma janela de <strong>5 minutos</strong> ap√≥s o lead demonstrar interesse. 
          Se voc√™ demorar mais que isso, a chance de contato cai 900%.
        </p>
        
        <div class="relative h-48 bg-white/5 rounded-2xl overflow-hidden border border-white/10">
           <!-- Chart Representation -->
           <div class="absolute bottom-0 left-0 w-full h-full flex items-end px-8 pb-8 gap-4">
             <div class="w-1/4 bg-[#00ff9d] h-[90%] rounded-t-lg relative group">
               <span class="absolute -top-8 left-1/2 -translate-x-1/2 text-white font-bold">5 min</span>
             </div>
             <div class="w-1/4 bg-[#00ff9d]/50 h-[30%] rounded-t-lg relative group">
               <span class="absolute -top-8 left-1/2 -translate-x-1/2 text-gray-400 font-bold">10 min</span>
             </div>
             <div class="w-1/4 bg-[#00ff9d]/20 h-[10%] rounded-t-lg relative group">
                <span class="absolute -top-8 left-1/2 -translate-x-1/2 text-gray-500 font-bold">30 min+</span>
             </div>
           </div>
        </div>
        <p class="text-center text-sm text-slate-500 mt-4">Qualidade/Chance do Lead vs Tempo de Resposta</p>
      </div>

    </div>
  </section>

</Layout>

<script is:inline>
  // DOM Elements
  const inputs = {
    leads: document.getElementById('leads'),
    ticket: document.getElementById('ticket'),
    conversion: document.getElementById('conversion'),
    cost: document.getElementById('cost')
  };

  const outputs = {
    currentRevenue: document.getElementById('current-revenue'),
    projectedRevenue: document.getElementById('projected-revenue'),
    gainHours: document.getElementById('gain-hours'),
    gainRecovery: document.getElementById('gain-recovery'),
    gainSavings: document.getElementById('gain-savings'),
    annualProfit: document.getElementById('annual-profit')
  };

  const calcBtn = document.getElementById('calc-btn');

  function formatCurrency(value) {
    return new Intl.NumberFormat('pt-BR', { style: 'currency', currency: 'BRL' }).format(value);
  }

  function calculate() {
    // Get values
    const leads = parseInt(inputs.leads.value) || 0;
    const ticket = parseFloat(inputs.ticket.value) || 0;
    const conversion = parseFloat(inputs.conversion.value) || 0; 
    const currentCost = parseFloat(inputs.cost.value) || 0;

    // Current State
    // Conversion rate is percentage (e.g. 5)
    // Sales = Leads * (Conversion/100)
    // Revenue = Sales * Ticket
    const currentSales = leads * (conversion / 100);
    const currentRevenue = currentSales * ticket;

    // Projected State with GetNexo
    // 1. Availability Gain (24/7): +20% conversion typically
    // 2. Response Speed Gain (Instant): +15% conversion
    // Total Conservative Conversion Lift: +35% relative to current base
    const optimizedConversion = conversion * 1.35; 
    const projectedRevenueBase = (leads * (optimizedConversion / 100)) * ticket;

    // 3. Recovery Gain
    // Assume 30% of NON-converted leads are actually "abandoned carts/interests"
    // And we recover 15% of those
    const nonConverted = leads - currentSales;
    const recoveredSales = nonConverted * 0.30 * 0.15; 
    const recoveryRevenue = recoveredSales * ticket;

    // 4. Operational Savings (GetNexo costs R$97 vs R$2500 team/tools)
    // If cost < 97, savings is negative (investment), but usually cost is high
    const newCost = 97; 
    const savings = Math.max(0, currentCost - newCost);

    const totalProjectedRevenue = projectedRevenueBase + recoveryRevenue;
    const monthlyGain = (totalProjectedRevenue - currentRevenue) + savings;
    const annualGain = monthlyGain * 12;

    // Update UI
    outputs.currentRevenue.innerText = formatCurrency(currentRevenue);
    outputs.projectedRevenue.innerText = formatCurrency(totalProjectedRevenue);
    
    outputs.gainHours.innerText = "+ " + formatCurrency(projectedRevenueBase - currentRevenue);
    outputs.gainRecovery.innerText = "+ " + formatCurrency(recoveryRevenue);
    outputs.gainSavings.innerText = "+ " + formatCurrency(savings);
    outputs.annualProfit.innerText = formatCurrency(annualGain);
  }

  // Event Listeners
  calcBtn.addEventListener('click', calculate);
  Object.values(inputs).forEach(input => {
    input.addEventListener('input', calculate);
  });

  // Initial Run
  calculate();
</script>

<style>
  .hero-badge { background: rgba(0, 212, 255, 0.1); color: #00d4ff; padding: 0.5rem 1.2rem; border-radius: 50px; font-weight: 700; display: inline-block; margin-bottom: 1.5rem; border: 1px solid rgba(0, 212, 255, 0.2); }
  
  .input-group label { display: block; color: #94a3b8; font-size: 0.9rem; margin-bottom: 0.5rem; font-weight: 600; }
  .input-wrapper { display: flex; align-items: center; background: rgba(0,0,0,0.3); border: 1px solid rgba(255,255,255,0.1); border-radius: 12px; height: 45px; padding: 0 1rem; transition: 0.3s; }
  .input-wrapper:focus-within { border-color: #00d4ff; box-shadow: 0 0 10px rgba(0, 212, 255, 0.1); }
  
  .glass-input { flex: 1; background: transparent; border: none; color: white; font-size: 1rem; outline: none; width: 100%; text-align: right; font-weight: 700; }
  .prefix, .suffix { color: #64748b; font-weight: 600; }
  
  .btn-primary-glow { background: linear-gradient(135deg, #00d4ff, #00ff9d); color: black; padding: 1rem; border-radius: 12px; font-weight: 800; text-align: center; cursor: pointer; border: none; width: 100%; transition: 0.3s; }
  .btn-primary-glow:hover { transform: translateY(-2px); box-shadow: 0 5px 20px rgba(0, 255, 157, 0.3); }

  .btn-outline { border: 1px solid rgba(255,255,255,0.2); color: white; padding: 1rem 2rem; border-radius: 12px; font-weight: 700; text-decoration: none; display: inline-block; transition: 0.3s; }
  .btn-outline:hover { background: rgba(255,255,255,0.1); border-color: white; }

  @media (max-width: 768px) {
    .glass-panel { padding: 1.5rem; }
  }
</style>
